(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns"),require("date-fns-tz")):typeof define=="function"&&define.amd?define(["vue","date-fns","date-fns-tz"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns,e.dateFnsTz))})(this,function(e,s,kt){"use strict";const wt=(t=>t&&typeof t=="object"&&"default"in t?t:{default:t})(kt),De=(t,r)=>{const l=t.__vccOpts||t;for(const[n,p]of r)l[n]=p;return l},bt={},Bt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},$t=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];function Ct(t,r){return e.openBlock(),e.createElementBlock("svg",Bt,$t)}const Ie=De(bt,[["render",Ct]]),Mt={},Dt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},St=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function _t(t,r){return e.openBlock(),e.createElementBlock("svg",Dt,St)}const Nt=De(Mt,[["render",_t]]),Vt={},At={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Pt=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function Tt(t,r){return e.openBlock(),e.createElementBlock("svg",At,Pt)}const at=De(Vt,[["render",Tt]]),Et={},Rt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Ot=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];function It(t,r){return e.openBlock(),e.createElementBlock("svg",Rt,Ot)}const rt=De(Et,[["render",It]]),Yt={},Lt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},vt=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];function Kt(t,r){return e.openBlock(),e.createElementBlock("svg",Lt,vt)}const lt=De(Yt,[["render",Kt]]),zt={},xt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Wt=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function Ut(t,r){return e.openBlock(),e.createElementBlock("svg",xt,Wt)}const ot=De(zt,[["render",Ut]]),Ht={},jt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Gt=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function Xt(t,r){return e.openBlock(),e.createElementBlock("svg",jt,Gt)}const st=De(Ht,[["render",Xt]]),it=(t,r)=>{const l=s.parse(t,r.slice(0,t.length),new Date);return s.isValid(l)&&s.isDate(l)?l:null},qt=(t,r)=>{if(typeof r=="string")return it(t,r);if(Array.isArray(r)){let l=null;for(const n of r)if(l=it(t,n),l)break;return l}return typeof r=="function"?r(t):null},k=t=>t?new Date(t):new Date,Zt=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),p=t.getDate().toString().padStart(2,"0"),b=t.getHours().toString().padStart(2,"0"),N=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${p}T${b}:${N}:00.000Z`}const l=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(l).toISOString()},we=t=>{let r=k(JSON.parse(JSON.stringify(t)));return r=s.setHours(r,0),r=s.setMinutes(r,0),r=s.setSeconds(r,0),r=s.setMilliseconds(r,0),r},ge=(t,r,l,n)=>{let p=t?k(t):k();return(r||r===0)&&(p=s.setHours(p,+r)),(l||l===0)&&(p=s.setMinutes(p,+l)),(n||n===0)&&(p=s.setSeconds(p,+n)),s.setMilliseconds(p,0)},fe=(t,r)=>!t||!r?!1:s.isBefore(we(t),we(r)),ae=(t,r)=>!t||!r?!1:s.isEqual(we(t),we(r)),ye=(t,r)=>!t||!r?!1:s.isAfter(we(t),we(r)),ct=(t,r,l)=>t&&t[0]&&t[1]?ye(l,t[0])&&fe(l,t[1]):t&&t[0]&&r?ye(l,t[0])&&fe(l,r)||fe(l,t[0])&&ye(l,r):!1,Te=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),ut=()=>{const t=n=>{Te.menuFocused=n},r=n=>{Te.shiftKeyInMenu!==n&&(Te.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Te.shiftKeyInMenu,menuFocused:Te.menuFocused})),setMenuFocused:t,setShiftKey:r}},Jt=(t,r=3)=>{const l=[];for(let n=0;n<t.length;n+=r)l.push([t[n],t[n+1],t[n+2]]);return l},Qt=(t,r)=>{const l=[1,2,3,4,5,6,7].map(b=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${b}T00:00:00+00:00`)).slice(0,2)),n=l.slice(0,r),p=l.slice(r+1,l.length);return[l[r]].concat(...p).concat(...n)},Ft=t=>{const r=[];for(let l=+t[0];l<=+t[1];l++)r.push({value:+l,text:`${l}`});return r},en=(t,r)=>{const l=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(p=>{const b=p<10?`0${p}`:p;return new Date(`2017-${b}-01T00:00:00+00:00`)}).map((p,b)=>({text:l.format(p),value:b}))},tn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ie=t=>{var l;const r=e.unref(t);return(l=r==null?void 0:r.$el)!=null?l:r},nn=t=>Object.assign({type:"dot"},t),dt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Ye={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},oe=t=>t,ft=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),an=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),rn=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,ln=(t,r,l)=>t||(typeof l=="string"?l:r),on=t=>typeof t=="boolean"?t?ft({}):!1:ft(t),sn=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),cn=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),{utcToZonedTime:un,zonedTimeToUtc:dn}=wt.default,pe=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(Ye.prop("partial-range"))},l=e.computed(()=>({ariaLabels:an(t.ariaLabels),textInputOptions:Object.assign(sn(),t.textInputOptions),multiCalendars:rn(t.multiCalendars),previewFormat:ln(t.previewFormat,t.format,b()),filters:cn(t.filters),transitions:on(t.transitions),startTime:$()})),n=a=>{if(t.range)return a();throw new Error(Ye.prop("range"))},p=()=>{const a=t.enableSeconds?":ss":"";return t.is24?`HH:mm${a}`:`hh:mm${a} aa`},b=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?p():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${p()}`:"MM/dd/yyyy",N=(a,u)=>{if(typeof t.format=="function")return t.format(a);const g=u||b(),R=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(a)?`${s.format(a[0],g,R)} ${t.modelAuto&&!a[1]?"":l.value.textInputOptions.rangeSeparator||"-"} ${a[1]?s.format(a[1],g,R):""}`:s.format(a,g,R)},D=a=>t.timezone?un(a,t.timezone):a,I=a=>t.timezone?dn(a,t.timezone):a,Y=e.computed(()=>a=>{var u;return(u=t.hideNavigation)==null?void 0:u.includes(a)}),O=a=>{const u=t.maxDate?ye(D(a),D(k(t.maxDate))):!1,g=t.minDate?fe(D(a),D(k(t.minDate))):!1,R=_(a,t.disabledDates),S=l.value.filters.months.map(me=>+me).includes(s.getMonth(a)),f=t.disabledWeekDays.length?t.disabledWeekDays.some(me=>+me===s.getDay(a)):!1,j=t.allowedDates.length?!t.allowedDates.some(me=>ae(D(k(me)),D(a))):!1,ee=s.getYear(a),re=ee<+t.yearRange[0]||ee>+t.yearRange[1];return!(u||g||R||S||re||f||j)},i=a=>{const u={hours:s.getHours(k()),minutes:s.getMinutes(k()),seconds:s.getSeconds(k())};return Object.assign(u,a)},$=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[i(t.startTime[0]),i(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?i(t.startTime):null,P=a=>!O(a),E=a=>Array.isArray(a)?s.isValid(a[0])&&(a[1]?s.isValid(a[1]):!0):a?s.isValid(a):!1,U=a=>a instanceof Date?a:s.parseISO(a),J=a=>{const u=s.startOfWeek(D(a),{weekStartsOn:+t.weekStart}),g=s.endOfWeek(D(a),{weekStartsOn:+t.weekStart});return[u,g]},_=(a,u)=>Array.isArray(u)?u.some(g=>ae(D(k(g)),D(a))):u(a),B=(a,u,g)=>{let R=a?k(a):k();return(u||u===0)&&(R=s.setMonth(R,u)),g&&(R=s.setYear(R,g)),R},W=a=>s.set(k(),{hours:s.getHours(a),minutes:s.getMinutes(a),seconds:s.getSeconds(a)}),G=a=>s.set(k(),{hours:+a.hours||0,minutes:+a.minutes||0,seconds:+a.seconds||0}),X=(a,u,g,R)=>{if(!a)return!0;if(R){const y=g==="max"?s.isBefore(a,u):s.isAfter(a,u),S={seconds:0,milliseconds:0};return y||s.isEqual(s.set(a,S),s.set(u,S))}return g==="max"?a.getTime()<=u.getTime():a.getTime()>=u.getTime()},V=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,m=a=>Array.isArray(a)?[a[0]?W(a[0]):null,a[1]?W(a[1]):null]:W(a),T=a=>{const u=t.maxTime?G(t.maxTime):k(t.maxDate);return Array.isArray(a)?X(a[0],u,"max",!!t.maxDate)&&X(a[1],u,"max",!!t.maxDate):X(a,u,"max",!!t.maxDate)},z=(a,u)=>{const g=t.minTime?G(t.minTime):k(t.minDate);return Array.isArray(a)?X(a[0],g,"min",!!t.minDate)&&X(a[1],g,"min",!!t.minDate)&&u:X(a,g,"min",!!t.minDate)&&u},Q=a=>{let u=!0;if(!a||V())return!0;const g=!t.minDate&&!t.maxDate?m(a):a;return(t.maxTime||t.maxDate)&&(u=T(oe(g))),(t.minTime||t.minDate)&&(u=z(oe(g),u)),u},A=(a,u)=>{const g=k(JSON.parse(JSON.stringify(a))),R=[];for(let y=0;y<7;y++){const S=s.addDays(g,y),f=s.getMonth(S)!==u;R.push({text:t.hideOffsetDates&&f?"":S.getDate(),value:S,current:!f,classData:{}})}return R},L=(a,u)=>{const g=[],R=k(D(new Date(u,a))),y=k(D(new Date(u,a+1,0))),S=s.startOfWeek(R,{weekStartsOn:t.weekStart}),f=j=>{const ee=A(j,a);if(g.push({days:ee}),!g[g.length-1].days.some(re=>ae(we(re.value),we(y)))){const re=s.addDays(j,7);f(re)}};if(f(S),t.sixWeeks&&g.length<6){const j=6-g.length;for(let ee=1;ee<=j;ee++){const re=g[g.length-1],me=re.days[re.days.length-1],q=A(s.addDays(me.value,1),s.getMonth(R));g.push({days:q})}}return g},h=(a,u,g)=>[s.set(k(a),{date:1}),s.set(k(),{month:u,year:g,date:1})],c=(a,u)=>fe(...h(t.minDate,a,u))||ae(...h(t.minDate,a,u)),M=(a,u)=>ye(...h(t.maxDate,a,u))||ae(...h(t.maxDate,a,u)),C=(a,u,g)=>{let R=!1;return t.maxDate&&g&&M(a,u)&&(R=!0),t.minDate&&!g&&c(a,u)&&(R=!0),R};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:D,getZonedToUtc:I,formatDate:N,getDefaultPattern:b,validateDate:O,getDefaultStartTime:$,isDisabled:P,isValidDate:E,sanitizeDate:U,getWeekFromDate:J,matchDate:_,setDateMonthOrYear:B,isValidTime:Q,getCalendarDays:L,validateMonthYearInRange:(a,u,g,R)=>{let y=!1;return R?t.minDate&&t.maxDate?y=C(a,u,g):(t.minDate&&c(a,u)||t.maxDate&&M(a,u))&&(y=!0):y=!0,y},validateMaxDate:M,validateMinDate:c,defaults:l,hideNavigationButtons:Y}},ne=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Ue=e.ref(null),Le=e.ref(!1),He=e.ref(!1),je=e.ref(!1),Ge=e.ref(!1),he=e.ref(0),ce=e.ref(0),Be=()=>{const t=e.computed(()=>Le.value?[...ne.selectionGrid,ne.actionRow].filter(_=>_.length):He.value?[...ne.timePicker[0],...ne.timePicker[1],Ge.value?[]:[Ue.value],ne.actionRow].filter(_=>_.length):je.value?[...ne.monthPicker,ne.actionRow]:[ne.monthYear,...ne.calendar,ne.time,ne.actionRow].filter(_=>_.length)),r=_=>{he.value=_?he.value+1:he.value-1;let B=null;t.value[ce.value]&&(B=t.value[ce.value][he.value]),B||(he.value=_?he.value-1:he.value+1)},l=_=>{if(ce.value===0&&!_||ce.value===t.value.length&&_)return;ce.value=_?ce.value+1:ce.value-1,t.value[ce.value]?t.value[ce.value]&&!t.value[ce.value][he.value]&&he.value!==0&&(he.value=t.value[ce.value].length-1):ce.value=_?ce.value-1:ce.value+1},n=_=>{let B=null;t.value[ce.value]&&(B=t.value[ce.value][he.value]),B?B.focus({preventScroll:!Le.value}):he.value=_?he.value-1:he.value+1},p=()=>{r(!0),n(!0)},b=()=>{r(!1),n(!1)},N=()=>{l(!1),n(!0)},D=()=>{l(!0),n(!0)},I=(_,B)=>{ne[B]=_},Y=(_,B)=>{ne[B]=_},O=()=>{he.value=0,ce.value=0};return{buildMatrix:I,buildMultiLevelMatrix:Y,setTimePickerBackRef:_=>{Ue.value=_},setSelectionGrid:_=>{Le.value=_,O(),_||(ne.selectionGrid=[])},setTimePicker:(_,B=!1)=>{He.value=_,Ge.value=B,O(),_||(ne.timePicker[0]=[],ne.timePicker[1]=[])},setTimePickerElements:(_,B=0)=>{ne.timePicker[B]=_},arrowRight:p,arrowLeft:b,arrowUp:N,arrowDown:D,clearArrowNav:()=>{ne.monthYear=[],ne.calendar=[],ne.time=[],ne.actionRow=[],ne.selectionGrid=[],ne.timePicker[0]=[],ne.timePicker[1]=[],Le.value=!1,He.value=!1,Ge.value=!1,je.value=!1,O(),Ue.value=null},setMonthPicker:_=>{je.value=_,O()},refSets:ne}},mt=t=>Array.isArray(t),Se=t=>Array.isArray(t),yt=t=>Array.isArray(t)&&t.length===2,fn=(t,r,l,n)=>{const{getDefaultStartTime:p,isDisabled:b,sanitizeDate:N,getWeekFromDate:D,setDateMonthOrYear:I,validateMonthYearInRange:Y,defaults:O}=pe(t),i=e.computed({get:()=>t.internalModelValue,set:o=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",o)}}),$=e.ref([]);e.watch(i,()=>W());const P=e.ref([{month:s.getMonth(k()),year:s.getYear(k())}]),E=e.reactive({hours:t.range?[s.getHours(k()),s.getHours(k())]:s.getHours(k()),minutes:t.range?[s.getMinutes(k()),s.getMinutes(k())]:s.getMinutes(k()),seconds:t.range?[0,0]:0}),U=e.computed(()=>o=>P.value[o]?P.value[o].month:0),J=e.computed(()=>o=>P.value[o]?P.value[o].year:0),_=(o,w,K)=>{P.value[o].month=w===null?P.value[o].month:w,P.value[o].year=K===null?P.value[o].year:K},B=(o,w)=>{E[o]=w};e.onMounted(()=>{i.value||(t.startDate&&(_(0,s.getMonth(k(t.startDate)),s.getYear(k(t.startDate))),O.value.multiCalendars&&be(0)),O.value.startTime&&h()),W(!0)});const W=(o=!1)=>{if(i.value)return Array.isArray(i.value)?T(o):X(i.value);if(t.timePicker)return z();if(t.monthPicker&&!t.range)return Q();if(t.yearPicker&&!t.range)return A();if(O.value.multiCalendars)return G(k(),o)},G=(o,w=!1)=>{if((!O.value.multiCalendars||!t.multiStatic||w)&&_(0,s.getMonth(o),s.getYear(o)),O.value.multiCalendars)for(let K=1;K<=O.value.multiCalendars;K++){const F=s.set(k(),{month:U.value(K-1),year:J.value(K-1)}),d=s.add(F,{months:1});P.value[K]={month:s.getMonth(d),year:s.getYear(d)}}},X=o=>{G(o),B("hours",s.getHours(o)),B("minutes",s.getMinutes(o)),B("seconds",s.getSeconds(o))},V=(o,w)=>{G(o[0],w);const K=F=>[F(o[0]),o[1]?F(o[1]):F(k())];B("hours",K(s.getHours)),B("minutes",K(s.getMinutes)),B("seconds",K(s.getSeconds))},m=(o,w)=>{if(t.range&&!t.multiDates)return V(o,w);if(t.multiDates){const K=o[o.length-1];return X(K)}},T=o=>{const w=i.value;m(w,o),O.value.multiCalendars&&t.multiCalendarsSolo&&M()},z=()=>{if(h(),!t.range)i.value=ge(k(),E.hours,E.minutes,L());else{const o=E.hours,w=E.minutes;i.value=[ge(k(),o[0],w[0],L()),ge(k(),o[1],w[1],L(!1))]}},Q=()=>{i.value=I(k(),U.value(0),J.value(0))},A=()=>{i.value=k()},L=(o=!0)=>t.enableSeconds?Array.isArray(E.seconds)?o?E.seconds[0]:E.seconds[1]:E.seconds:0,h=()=>{const o=p();if(o){const w=Array.isArray(o),K=w?[+o[0].hours,+o[1].hours]:+o.hours,F=w?[+o[0].minutes,+o[1].minutes]:+o.minutes,d=w?[+o[0].seconds,+o[1].seconds]:+o.seconds;B("hours",K),B("minutes",F),t.enableSeconds&&B("seconds",d)}},c=()=>Array.isArray(i.value)&&i.value.length?i.value[i.value.length-1]:null,M=()=>{if(Array.isArray(i.value)&&i.value.length===2){const o=k(k(i.value[1]?i.value[1]:s.addMonths(i.value[0],1))),[w,K]=[s.getMonth(i.value[0]),s.getYear(i.value[0])],[F,d]=[s.getMonth(i.value[1]),s.getYear(i.value[1])];(w!==F||w===F&&K!==d)&&t.multiCalendarsSolo&&_(1,s.getMonth(o),s.getYear(o))}},C=o=>{const w=s.addMonths(o,1);return{month:s.getMonth(w),year:s.getYear(w)}},v=o=>{const w=s.getMonth(k(o)),K=s.getYear(k(o));if(_(0,w,K),O.value.multiCalendars>0)for(let F=1;F<O.value.multiCalendars;F++){const d=C(s.set(k(o),{year:U.value(F-1),month:J.value(F-1)}));_(F,d.month,d.year)}},a=o=>{if(i.value&&Array.isArray(i.value))if(i.value.some(w=>ae(o,w))){const w=i.value.filter(K=>!ae(K,o));i.value=w.length?w:null}else(t.multiDatesLimit&&+t.multiDatesLimit>i.value.length||!t.multiDatesLimit)&&i.value.push(o);else i.value=[o]},u=(o,w)=>{const K=ye(o,w)?w:o,F=ye(w,o)?w:o;return s.eachDayOfInterval({start:K,end:F})},g=o=>{if(Array.isArray(i.value)&&i.value[0]){const w=s.differenceInCalendarDays(o,i.value[0]),K=u(i.value[0],o),F=K.length===1?0:K.filter(x=>b(x)).length,d=Math.abs(w)-F;if(t.minRange&&t.maxRange)return d>=+t.minRange&&d<=+t.maxRange;if(t.minRange)return d>=+t.minRange;if(t.maxRange)return d<=+t.maxRange}return!0},R=o=>Array.isArray(i.value)&&i.value.length===2?t.fixedStart&&(ye(o,i.value[0])||ae(o,i.value[0]))?[i.value[0],o]:t.fixedEnd&&(fe(o,i.value[1])||ae(o,i.value[1]))?[o,i.value[1]]:i.value:[],y=()=>{t.autoApply&&r("auto-apply")},S=()=>{t.autoApply&&r("select-date")},f=o=>!s.eachDayOfInterval({start:o[0],end:o[1]}).some(K=>b(K)),j=o=>(i.value=D(k(o.value)),y()),ee=o=>{const w=ge(k(o.value),E.hours,E.minutes,L());t.multiDates?a(w):i.value=w,l(),y()},re=()=>{$.value=i.value?i.value.slice():[],$.value.length===2&&!(t.fixedStart||t.fixedEnd)&&($.value=[])},me=(o,w)=>{const K=[k(o.value),s.addDays(k(o.value),+t.autoRange)];f(K)&&(w&&v(o.value),$.value=K)},q=o=>{$.value=R(k(o.value))},Ce=o=>t.noDisabledRange?u($.value[0],o).some(K=>b(K)):!1,Me=(o,w)=>{if(re(),t.autoRange)return me(o,w);if(t.fixedStart||t.fixedEnd)return q(o);$.value[0]?g(k(o.value))&&!Ce(o.value)&&(fe(k(o.value),k($.value[0]))?$.value.unshift(k(o.value)):$.value[1]=k(o.value)):$.value[0]=k(o.value)},Z=o=>{$.value[o]=ge($.value[o],E.hours[o],E.minutes[o],L(o!==1))},ue=()=>{$.value.length&&($.value[0]&&!$.value[1]?Z(0):(Z(0),Z(1),l()),i.value=$.value.slice(),$.value[0]&&$.value[1]&&t.autoApply&&r("auto-apply"),$.value[0]&&!$.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},se=(o,w=!1)=>{if(!(b(o.value)||!o.current&&t.hideOffsetDates)){if(t.weekPicker)return j(o);if(!t.range)return ee(o);Se(E.hours)&&Se(E.minutes)&&!t.multiDates&&(Me(o,w),ue())}},Ne=o=>{const w=o.find(K=>K.current);return w?s.getISOWeek(w.value):""},be=o=>{for(let w=o-1;w>=0;w--){const K=s.subMonths(s.set(k(),{month:U.value(w+1),year:J.value(w+1)}),1);_(w,s.getMonth(K),s.getYear(K))}for(let w=o+1;w<=O.value.multiCalendars-1;w++){const K=s.addMonths(s.set(k(),{month:U.value(w-1),year:J.value(w-1)}),1);_(w,s.getMonth(K),s.getYear(K))}},Ve=o=>I(k(),U.value(o),J.value(o)),Re=o=>ge(o,E.hours,E.minutes,L()),Je=(o,w)=>{const K=t.monthPicker?U.value(o)!==w.month||!w.fromNav:J.value(o)!==w.year;if(_(o,w.month,w.year),O.value.multiCalendars&&!t.multiCalendarsSolo&&be(o),t.monthPicker||t.yearPicker)if(t.range){if(K){let F=i.value?i.value.slice():[];F.length===2&&F[1]!==null&&(F=[]),F.length?fe(Ve(o),F[0])?F.unshift(Ve(o)):F[1]=Ve(o):F=[Ve(o)],i.value=F}}else i.value=Ve(o);r("update-month-year",{instance:o,month:w.month,year:w.year}),n(t.multiCalendarsSolo?o:void 0)},Qe=async(o=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const w=t.monthPicker?o:!1;t.range?r("auto-apply",w||!i.value||i.value.length===1):r("auto-apply",w)}l()},ze=(o,w)=>{const K=s.set(k(),{month:U.value(w),year:J.value(w)}),F=o<0?s.addMonths(K,1):s.subMonths(K,1);Y(s.getMonth(F),s.getYear(F),o<0,t.preventMinMaxNavigation)&&(_(w,s.getMonth(F),s.getYear(F)),O.value.multiCalendars&&!t.multiCalendarsSolo&&be(w),n())},Oe=o=>{mt(o)&&mt(i.value)&&Se(E.hours)&&Se(E.minutes)?(o[0]&&i.value[0]&&(i.value[0]=ge(o[0],E.hours[0],E.minutes[0],L())),o[1]&&i.value[1]&&(i.value[1]=ge(o[1],E.hours[1],E.minutes[1],L(!1)))):t.multiDates&&Array.isArray(i.value)?i.value[i.value.length-1]=Re(o):!t.range&&!yt(o)&&(i.value=Re(o)),r("time-update")},Fe=(o,w=!0,K=!1)=>{const F=w?o:E.hours,d=!w&&!K?o:E.minutes,x=K?o:E.seconds;if(t.range&&yt(i.value)&&Se(F)&&Se(d)&&Se(x)&&!t.disableTimeRangeValidation){const le=ke=>ge(i.value[ke],F[ke],d[ke],x[ke]),de=ke=>s.setMilliseconds(i.value[ke],0);if(ae(i.value[0],i.value[1])&&(s.isAfter(le(0),de(1))||s.isBefore(le(1),de(0))))return}if(B("hours",F),B("minutes",d),B("seconds",x),i.value)if(t.multiDates){const le=c();le&&Oe(le)}else Oe(i.value);else t.timePicker&&Oe(t.range?[k(),k()]:k());l()},et=(o,w)=>{t.monthChangeOnScroll&&ze(t.monthChangeOnScroll!=="inverse"?-o.deltaY:o.deltaY,w)},tt=(o,w,K=!1)=>{t.monthChangeOnArrows&&t.vertical===K&&xe(o,w)},xe=(o,w)=>{ze(o==="right"?-1:1,w)};return{time:E,month:U,year:J,modelValue:i,monthYearSelect:Qe,isDisabled:b,updateTime:Fe,getWeekNum:Ne,selectDate:se,updateMonthYear:Je,handleScroll:et,getMarker:o=>t.markers.find(w=>ae(N(o.value),N(w.date))),handleArrow:tt,handleSwipe:xe,selectCurrentDate:()=>{t.range?i.value&&Array.isArray(i.value)&&i.value[0]?i.value=fe(k(),i.value[0])?[k(),i.value[0]]:[i.value[0],k()]:i.value=[k()]:i.value=k(),S()},presetDateRange:(o,w)=>{w||o.length&&o.length<=2&&t.range&&(i.value=o.map(K=>k(K)),S())}}},mn=(t,r,l)=>{const n=e.ref(),{getZonedToUtc:p,getZonedDate:b,formatDate:N,getDefaultPattern:D,checkRangeEnabled:I,checkPartialRangeValue:Y,isValidDate:O,setDateMonthOrYear:i,defaults:$}=pe(r),P=e.ref("");e.watch(n,()=>{t("internal-model-change",n.value)});const E=f=>{const j=f||k(),ee={hours:s.getHours(j),minutes:s.getMinutes(j)};return r.enableSeconds&&(ee.seconds=s.getSeconds(j)),ee},U=f=>({month:s.getMonth(f),year:s.getYear(f)}),J=f=>Array.isArray(f)?I(()=>[s.setYear(k(),f[0]),f[1]?s.setYear(k(),f[1]):Y()]):s.setYear(k(),+f),_=f=>Array.isArray(f)?[ge(null,+f[0].hours,+f[0].minutes,f[0].seconds),ge(null,+f[1].hours,+f[1].minutes,f[1].seconds)]:ge(null,f.hours,f.minutes,f==null?void 0:f.seconds),B=f=>Array.isArray(f)?I(()=>[i(null,+f[0].month,+f[0].year),f[1]?i(null,+f[1].month,+f[1].year):Y()]):i(null,+f.month,+f.year),W=f=>{if(Array.isArray(f))return f.map(j=>v(j));throw new Error(Ye.dateArr("multi-dates"))},G=f=>{if(Array.isArray(f))return[k(f[0]),k(f[1])];throw new Error(Ye.dateArr("week-picker"))},X=f=>r.modelAuto?Array.isArray(f)?[v(f[0]),v(f[1])]:r.autoApply?[v(f)]:[v(f),null]:Array.isArray(f)?I(()=>[v(f[0]),f[1]?v(f[1]):Y()]):v(f),V=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(Y())},m=()=>{const f=n.value;return[a(f[0]),f[1]?a(f[1]):Y()]},T=()=>n.value[1]?m():a(oe(n.value[0])),z=()=>n.value.map(f=>a(f)),Q=()=>(V(),r.modelAuto?T():r.multiDates?z():Array.isArray(n.value)?I(()=>m()):a(oe(n.value))),A=f=>f?r.timePicker?_(oe(f)):r.monthPicker?B(oe(f)):r.yearPicker?J(oe(f)):r.multiDates?W(oe(f)):r.weekPicker?G(oe(f)):X(oe(f)):null,L=f=>{const j=A(f);O(oe(j))?(n.value=oe(j),C()):(n.value=null,P.value="")},h=()=>{var j;const f=ee=>{var re;return s.format(ee,(re=$.value.textInputOptions)==null?void 0:re.format)};return`${f(n.value[0])} ${(j=$.value.textInputOptions)==null?void 0:j.rangeSeparator} ${n.value[1]?f(n.value[1]):""}`},c=()=>{var f;return l.value&&n.value?Array.isArray(n.value)?h():s.format(n.value,(f=$.value.textInputOptions)==null?void 0:f.format):N(n.value)},M=()=>{var f;return n.value?r.multiDates?n.value.map(j=>N(j)).join("; "):r.textInput&&typeof((f=$.value.textInputOptions)==null?void 0:f.format)=="string"?c():N(n.value):""},C=()=>{!r.format||typeof r.format=="string"?P.value=M():P.value=r.format(n.value)},v=f=>{if(r.utc){const j=new Date(f);return r.utc==="preserve"?new Date(j.getTime()+j.getTimezoneOffset()*6e4):j}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?b(new Date(f)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?s.parse(f,D(),new Date):b(s.parse(f,r.modelType,new Date)):b(new Date(f))},a=f=>r.utc?Zt(f,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+p(f):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?N(p(f)):N(p(f),r.modelType):p(f),u=f=>{t("update:model-value",f)},g=f=>Array.isArray(n.value)?[f(n.value[0]),n.value[1]?f(n.value[1]):Y()]:f(oe(n.value)),R=f=>u(oe(g(f)));return{inputValue:P,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:L,formatInputValue:C,emitModelValue:()=>(C(),r.monthPicker?R(U):r.timePicker?R(E):r.yearPicker?R(s.getYear):r.weekPicker?u(n.value):u(Q()))}},yn=(t,r)=>{const{validateMonthYearInRange:l,validateMaxDate:n,validateMinDate:p,defaults:b}=pe(t),N=(i,$)=>{let P=i;return b.value.filters.months.includes(s.getMonth(P))?(P=$?s.addMonths(i,1):s.subMonths(i,1),N(P,$)):P},D=(i,$)=>{let P=i;return b.value.filters.years.includes(s.getYear(P))?(P=$?s.addYears(i,1):s.subYears(i,1),D(P,$)):P},I=i=>{const $=s.set(new Date,{month:t.month,year:t.year});let P=i?s.addMonths($,1):s.subMonths($,1),E=s.getMonth(P),U=s.getYear(P);b.value.filters.months.includes(E)&&(P=N(P,i),E=s.getMonth(P),U=s.getYear(P)),b.value.filters.years.includes(U)&&(P=D(P,i),U=s.getYear(P)),l(E,U,i,t.preventMinMaxNavigation)&&Y(E,U)},Y=(i,$)=>{r("update-month-year",{month:i,year:$})},O=e.computed(()=>i=>{if(!t.preventMinMaxNavigation||i&&!t.maxDate||!i&&!t.minDate)return!1;const $=s.set(new Date,{month:t.month,year:t.year}),P=i?s.addMonths($,1):s.subMonths($,1),E=[s.getMonth(P),s.getYear(P)];return i?!n(...E):!p(...E)});return{handleMonthYearChange:I,isDisabled:O,updateMonthYear:Y}};var ve=(t=>(t.center="center",t.left="left",t.right="right",t))(ve||{});const hn=(t,r,l,n)=>{const p=e.ref({top:"0",left:"0",transform:"none"}),b=e.ref(!1),N=e.toRef(n,"teleportCenter");e.watch(N,()=>{J()});const D=V=>{const m=V.getBoundingClientRect();return{left:m.left+window.scrollX,top:m.top+window.scrollY}},I=V=>{const m=V.getBoundingClientRect();let T=0,z=0;for(;V&&!isNaN(V.offsetLeft)&&!isNaN(V.offsetTop);)T+=V.offsetLeft-V.scrollLeft,z=m.top+V.scrollTop,V=V.offsetParent;return{top:z,left:T}},Y=(V,m)=>{p.value.left=`${V+m}px`,p.value.transform="translateX(-100%)"},O=V=>{p.value.left=`${V}px`,p.value.transform="translateX(0)"},i=(V,m,T=!1)=>{n.position===ve.left&&O(V),n.position===ve.right&&Y(V,m),n.position===ve.center&&(p.value.left=`${V+m/2}px`,p.value.transform=T?"translate(-50%, -50%)":"translateX(-50%)")},$=V=>{const{width:m,height:T}=V.getBoundingClientRect(),{top:z,left:Q}=n.altPosition?I(V):D(V);return{top:z,left:Q,width:m,height:T}},P=()=>{const V=ie(r);if(V){const{top:m,left:T,width:z,height:Q}=$(V);p.value.top=`${m+Q/2}px`,p.value.transform="translateY(-50%)",i(T,z,!0)}},E=()=>{p.value.left="50%",p.value.top="50%",p.value.transform="translate(-50%, -50%)",p.value.position="fixed"},U=()=>{const V=ie(r);p.value=n.altPosition(V)},J=(V=!0)=>{if(!n.inline)return N.value?E():n.altPosition&&typeof n.altPosition!="boolean"?U():(V&&l("recalculate-position"),X())},_=(V,m)=>{const{top:T,left:z,height:Q,width:A}=$(V);p.value.top=`${Q+T+ +n.offset}px`,i(z,A),W(V,m),b.value=!1},B=(V,m)=>{const{top:T,left:z,width:Q}=$(V),{height:A}=m.getBoundingClientRect();p.value.top=`${T-A-+n.offset}px`,i(z,Q),W(V,m),b.value=!0},W=(V,m)=>{if(n.autoPosition){const{left:T,width:z}=$(V),{left:Q,right:A}=m.getBoundingClientRect();if(Q<0)return O(T);if(A>document.documentElement.clientWidth)return Y(T,z)}},G=(V,m)=>{const{height:T}=m.getBoundingClientRect(),{top:z,height:Q}=V.getBoundingClientRect(),L=window.innerHeight-z-Q,h=z;return T<=L?_(V,m):T>L&&T<=h?B(V,m):L>=h?_(V,m):B(V,m)},X=()=>{const V=ie(r),m=ie(t);if(V&&m)return n.autoPosition?G(V,m):_(V,m)};return{openOnTop:b,menuPosition:p,setMenuPosition:J,setInitialPosition:P}},Ae=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["menu"]}],pn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],gn={all:()=>Ae,monthYear:()=>Ae.filter(t=>t.use.includes("month-year")),input:()=>pn,timePicker:()=>Ae.filter(t=>t.use.includes("time")),action:()=>Ae.filter(t=>t.use.includes("action")),calendar:()=>Ae.filter(t=>t.use.includes("calendar")),menu:()=>Ae.filter(t=>t.use.includes("menu"))},_e=(t,r,l)=>{const n=[];return gn[r]().forEach(p=>{t[p.name]&&n.push(p.name)}),l&&l.length&&l.forEach(p=>{p.slot&&n.push(p.slot)}),n},Ke=t=>({transitionName:e.computed(()=>l=>t&&typeof t!="boolean"?l?t.open:t.close:""),showTransition:!!t}),$e={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},kn=["aria-label","aria-disabled","aria-readonly"],wn={key:1,class:"dp__input_wrap"},bn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Bn={key:2,class:"dp__input_icon"},$n={key:4,class:"dp__clear_icon"},Cn=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...$e},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:l}){const n=t,{getDefaultPattern:p,isValidDate:b,defaults:N}=pe(n),D=e.ref(),I=e.ref(null),Y=e.ref(!1),O=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:Y.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),i=()=>{l("set-input-date",null),n.autoApply&&(l("set-empty-date"),D.value=null)},$=m=>{var T;return qt(m,((T=N.value.textInputOptions)==null?void 0:T.format)||p())},P=m=>{const{rangeSeparator:T}=N.value.textInputOptions;if(n.range){const[z,Q]=m.split(`${T}`);if(z&&Q){const A=$(z.trim()),L=$(Q.trim());D.value=A&&L?[A,L]:null}}else D.value=$(m)},E=m=>{var z;const{value:T}=m.target;T!==""?(((z=N.value.textInputOptions)==null?void 0:z.openMenu)&&!n.isMenuOpen&&l("open"),P(T),l("set-input-date",D.value)):i(),l("update:input-value",T)},U=()=>{var m,T;((m=N.value.textInputOptions)==null?void 0:m.enterSubmit)&&b(D.value)&&n.inputValue!==""?(l("set-input-date",D.value,!0),D.value=null):((T=N.value.textInputOptions)==null?void 0:T.enterSubmit)&&n.inputValue===""&&(D.value=null,l("clear"))},J=()=>{var m,T;((m=N.value.textInputOptions)==null?void 0:m.tabSubmit)&&b(D.value)&&n.inputValue!==""?(l("set-input-date",D.value,!0),D.value=null):((T=N.value.textInputOptions)==null?void 0:T.tabSubmit)&&n.inputValue===""&&(D.value=null,l("clear"))},_=()=>{Y.value=!0,l("focus")},B=m=>{var T;m.preventDefault(),m.stopImmediatePropagation(),m.stopPropagation(),n.textInput&&((T=N.value.textInputOptions)==null?void 0:T.openMenu)?n.isMenuOpen?N.value.textInputOptions.enterSubmit&&l("select-date"):l("open"):n.textInput||l("toggle")},W=()=>{Y.value=!1,n.isMenuOpen||l("blur"),n.autoApply&&n.textInput&&D.value&&(l("set-input-date",D.value),l("select-date"),D.value=null)},G=()=>{l("clear")},X=m=>{n.textInput||m.preventDefault()};return r({focusInput:()=>{I.value&&I.value.focus({preventScroll:!0})}}),(m,T)=>{var z;return e.openBlock(),e.createElementBlock("div",{onClick:B,"aria-label":(z=e.unref(N).ariaLabels)==null?void 0:z.input,role:"textbox","aria-multiline":"false","aria-disabled":m.disabled,"aria-readonly":m.readonly},[m.$slots.trigger&&!m.$slots["dp-input"]&&!m.inline?e.renderSlot(m.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!m.$slots.trigger&&(!m.inline||m.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",wn,[m.$slots["dp-input"]&&!m.$slots.trigger&&!m.inline?e.renderSlot(m.$slots,"dp-input",{key:0,value:t.inputValue,onInput:E,onEnter:U,onTab:J,onClear:G}):e.createCommentVNode("",!0),m.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:I,id:m.uid?`dp-input-${m.uid}`:void 0,name:m.name,class:e.normalizeClass(e.unref(O)),inputmode:m.textInput?"text":"none",placeholder:m.placeholder,disabled:m.disabled,readonly:m.readonly,required:m.required,value:t.inputValue,autocomplete:m.autocomplete,onInput:E,onKeydown:[e.withKeys(B,["enter"]),e.withKeys(J,["tab"])],onBlur:W,onFocus:_,onKeypress:X},null,42,bn)),m.$slots["input-icon"]&&!m.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Bn,[e.renderSlot(m.$slots,"input-icon")])):e.createCommentVNode("",!0),!m.$slots["input-icon"]&&!m.hideInputIcon&&!m.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Ie),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),m.$slots["clear-icon"]&&t.inputValue&&m.clearable&&!m.disabled&&!m.readonly?(e.openBlock(),e.createElementBlock("span",$n,[e.renderSlot(m.$slots,"clear-icon",{clear:G})])):e.createCommentVNode("",!0),m.clearable&&!m.$slots["clear-icon"]&&t.inputValue&&!m.disabled&&!m.readonly?(e.openBlock(),e.createBlock(e.unref(Nt),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(G,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,kn)}}}),Mn={class:"dp__selection_preview"},Dn={class:"dp__action_buttons"},Sn=["onKeydown"],_n=e.defineComponent({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...$e},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:r}){const l=t,{formatDate:n,isValidTime:p,defaults:b}=pe(l),{buildMatrix:N}=Be(),D=e.ref(null),I=e.ref(null);e.onMounted(()=>{l.arrowNavigation&&N([ie(D),ie(I)],"actionRow")});const Y=e.computed(()=>l.range&&!l.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),O=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!i.value||!$.value||!Y.value})),i=e.computed(()=>!l.enableTimePicker||l.ignoreTimeValidation?!0:p(l.internalModelValue)),$=e.computed(()=>l.monthPicker?J(l.internalModelValue):!0),P=()=>{const B=b.value.previewFormat;return l.timePicker||l.monthPicker,B(oe(l.internalModelValue))},E=()=>{const B=l.internalModelValue;return b.value.multiCalendars>0?`${n(B[0])} - ${n(B[1])}`:[n(B[0]),n(B[1])]},U=e.computed(()=>!l.internalModelValue||!l.menuMount?"":typeof b.value.previewFormat=="string"?Array.isArray(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?E():l.multiDates?l.internalModelValue.map(B=>`${n(B)}`):l.modelAuto?`${n(l.internalModelValue[0])}`:`${n(l.internalModelValue[0])} -`:n(l.internalModelValue):P()),J=B=>{if(!l.monthPicker)return!0;let W=!0;return l.minDate&&l.maxDate?ye(k(B),k(l.minDate))&&fe(k(B),k(l.maxDate)):(l.minDate&&(W=ye(k(B),k(l.minDate))),l.maxDate&&(W=fe(k(B),k(l.maxDate))),W)},_=()=>{i.value&&$.value&&Y.value?r("select-date"):r("invalid-select")};return(B,W)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[e.createElementVNode("div",Mn,[B.$slots["action-preview"]?e.renderSlot(B.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),B.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(U))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(U)),1)],64)),Array.isArray(e.unref(U))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(U),(G,X)=>(e.openBlock(),e.createElementBlock("div",{key:X},e.toDisplayString(G),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",Dn,[B.$slots["action-select"]?e.renderSlot(B.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),B.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[B.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:D,tabindex:"0",onClick:W[0]||(W[0]=G=>B.$emit("close-picker")),onKeydown:[W[1]||(W[1]=e.withKeys(G=>B.$emit("close-picker"),["enter"])),W[2]||(W[2]=e.withKeys(G=>B.$emit("close-picker"),["space"]))]},e.toDisplayString(B.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(O)),tabindex:"0",onKeydown:[e.withKeys(_,["enter"]),e.withKeys(_,["space"])],onClick:_,"data-test":"select-button",ref_key:"selectButtonRef",ref:I},e.toDisplayString(B.selectText),43,Sn)],64))])],4))}}),Nn=["aria-label"],Vn={class:"dp__calendar_header",role:"row"},An={key:0,class:"dp__calendar_header_item",role:"gridcell"},Pn=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Tn=["aria-label"],En={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Rn={class:"dp__cell_inner"},On=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseover"],In=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),Yn=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...$e},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space"],setup(t,{expose:r,emit:l}){const n=t,{buildMultiLevelMatrix:p}=Be(),{setDateMonthOrYear:b,defaults:N}=pe(n),D=e.ref(null),I=e.ref({bottom:"",left:"",transform:""}),Y=e.ref([]),O=e.ref(null),i=e.ref(!0),$=e.ref(""),P=e.ref({startX:0,endX:0,startY:0,endY:0}),E=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Qt(n.locale,+n.weekStart));e.onMounted(()=>{l("mount",{cmp:"calendar",refs:Y}),n.noSwipe||O.value&&(O.value.addEventListener("touchstart",T,{passive:!1}),O.value.addEventListener("touchend",z,{passive:!1}),O.value.addEventListener("touchmove",Q,{passive:!1})),n.monthChangeOnScroll&&O.value&&O.value.addEventListener("wheel",h,{passive:!1})});const U=c=>c?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",J=(c,M)=>{if(n.transitions){const C=we(b(k(),n.month,n.year));$.value=ye(we(b(k(),c,M)),C)?N.value.transitions[U(!0)]:N.value.transitions[U(!1)],i.value=!1,e.nextTick(()=>{i.value=!0})}},_=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),B=e.computed(()=>c=>{const M=nn(c);return{dp__marker_dot:M.type==="dot",dp__marker_line:M.type==="line"}}),W=e.computed(()=>c=>ae(c,D.value)),G=e.computed(()=>({dp__calendar:!0,dp__calendar_next:N.value.multiCalendars>0&&n.instance!==0})),X=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),V=(c,M,C)=>{var v,a;if(l("set-hover-date",c),(a=(v=c.marker)==null?void 0:v.tooltip)!=null&&a.length){const u=ie(Y.value[M][C]);if(u){const{width:g,height:R}=u.getBoundingClientRect();I.value={bottom:`${R}px`,left:`${g/2}px`,transform:"translateX(-50%)"},D.value=c.value}}},m=()=>{D.value=null},T=c=>{P.value.startX=c.changedTouches[0].screenX,P.value.startY=c.changedTouches[0].screenY},z=c=>{P.value.endX=c.changedTouches[0].screenX,P.value.endY=c.changedTouches[0].screenY,A()},Q=c=>{n.vertical&&!n.inline&&c.preventDefault()},A=()=>{const c=n.vertical?"Y":"X";Math.abs(P.value[`start${c}`]-P.value[`end${c}`])>10&&l("handle-swipe",P.value[`start${c}`]>P.value[`end${c}`]?"right":"left")},L=(c,M,C)=>{c&&(Array.isArray(Y.value[M])?Y.value[M][C]=c:Y.value[M]=[c]),n.arrowNavigation&&p(Y.value,"calendar")},h=c=>{n.monthChangeOnScroll&&(c.preventDefault(),l("handle-scroll",c))};return r({triggerTransition:J}),(c,M)=>{var C;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(G))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(X))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:O,class:e.normalizeClass(e.unref(_)),role:"grid","aria-label":(C=e.unref(N).ariaLabels)==null?void 0:C.calendarWrap},[e.createElementVNode("div",Vn,[c.weekNumbers?(e.openBlock(),e.createElementBlock("div",An,e.toDisplayString(c.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(E),(v,a)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:a,"data-test":"calendar-header"},[c.$slots["calendar-header"]?e.renderSlot(c.$slots,"calendar-header",{key:0,day:v,index:a}):e.createCommentVNode("",!0),c.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(v),1)],64))]))),128))]),Pn,e.createVNode(e.Transition,{name:$.value,css:!!c.transitions},{default:e.withCtx(()=>{var v;return[i.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(v=e.unref(N).ariaLabels)==null?void 0:v.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(a,u)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:u},[c.weekNumbers?(e.openBlock(),e.createElementBlock("div",En,[e.createElementVNode("div",Rn,e.toDisplayString(t.getWeekNum(a.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.days,(g,R)=>{var y,S,f;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:j=>L(j,u,R),key:R+u,"aria-selected":g.classData.dp__active_date||g.classData.dp__range_start||g.classData.dp__range_start,"aria-disabled":g.classData.dp__cell_disabled,"aria-label":(S=(y=e.unref(N).ariaLabels)==null?void 0:y.day)==null?void 0:S.call(y,g),tabindex:"0","data-test":g.value,onClick:e.withModifiers(j=>c.$emit("select-date",g),["stop","prevent"]),onKeydown:[e.withKeys(j=>c.$emit("select-date",g),["enter"]),e.withKeys(j=>c.$emit("handle-space",g),["space"])],onMouseover:j=>V(g,u,R),onMouseleave:m},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",g.classData])},[c.$slots.day?e.renderSlot(c.$slots,"day",{key:0,day:+g.text,date:g.value}):e.createCommentVNode("",!0),c.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(g.text),1)],64)),g.marker?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(B)(g.marker)),style:e.normalizeStyle(g.marker.color?{backgroundColor:g.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(W)(g.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(I.value)},[(f=g.marker)!=null&&f.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:M[0]||(M[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.marker.tooltip,(j,ee)=>(e.openBlock(),e.createElementBlock("div",{key:ee,class:"dp__tooltip_text"},[c.$slots["marker-tooltip"]?e.renderSlot(c.$slots,"marker-tooltip",{key:0,tooltop:j,day:g.value}):e.createCommentVNode("",!0),c.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(j.color?{backgroundColor:j.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(j.text),1)],64))]))),128)),In])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,On)}),128))]))),128))],8,Tn)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,Nn))],4)],2)}}}),Ln=["aria-label","aria-disabled"],Xe=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:r}){const l=e.ref(null);return e.onMounted(()=>r("set-ref",l)),(n,p)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:p[0]||(p[0]=b=>n.$emit("activate")),onKeydown:[p[1]||(p[1]=e.withKeys(b=>n.$emit("activate"),["enter"])),p[2]||(p[2]=e.withKeys(b=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:l},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Ln))}}),vn=["onKeydown"],Kn={class:"dp__selection_grid_header"},zn=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],xn=["aria-label","onKeydown"],Ee=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:l}){const n=t,{setSelectionGrid:p,buildMultiLevelMatrix:b,setMonthPicker:N}=Be(),{hideNavigationButtons:D}=pe(n),I=e.ref(!1),Y=e.ref(null),O=e.ref(null),i=e.ref([]),$=e.ref(),P=e.ref();e.onBeforeUpdate(()=>{Y.value=null}),e.onMounted(()=>{e.nextTick().then(()=>m()),U(),E(!0)}),e.onUnmounted(()=>E(!1));const E=c=>{var M;n.arrowNavigation&&((M=n.headerRefs)!=null&&M.length?N(c):p(c))},U=()=>{const c=ie(O);c&&(n.textInput||c.focus({preventScroll:!0}),I.value=c.clientHeight<c.scrollHeight)},J=e.computed(()=>({dp__overlay:!0})),_=e.computed(()=>({dp__overlay_col:!0})),B=c=>n.skipActive?!1:c.value===n.modelValue,W=e.computed(()=>n.items.map(c=>c.filter(M=>M).map(M=>{var a,u,g;const C=n.disabledValues.some(R=>R===M.value)||V(M.value),v=(a=n.multiModelValue)!=null&&a.length?(u=n.multiModelValue)==null?void 0:u.some(R=>ae(R,s.setYear(n.monthPicker?s.setMonth(new Date,M.value):new Date,n.monthPicker?n.year:M.value))):B(M);return{...M,className:{dp__overlay_cell_active:v,dp__overlay_cell:!v,dp__overlay_cell_disabled:C,dp__overlay_cell_active_disabled:C&&v,dp__overlay_cell_pad:!0,dp__cell_in_between:(g=n.multiModelValue)!=null&&g.length?z(M.value):!1}}}))),G=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:I.value,dp__button_bottom:n.autoApply})),X=e.computed(()=>{var c,M;return{dp__overlay_container:!0,dp__container_flex:((c=n.items)==null?void 0:c.length)<=6,dp__container_block:((M=n.items)==null?void 0:M.length)>6}}),V=c=>{const M=n.maxValue||n.maxValue===0,C=n.minValue||n.minValue===0;return!M&&!C?!1:M&&C?+c>+n.maxValue||+c<+n.minValue:M?+c>+n.maxValue:C?+c<+n.minValue:!1},m=()=>{const c=ie(Y);if(c){const M=ie(O);M&&(M.scrollTop=c.offsetTop-M.offsetTop-(M.getBoundingClientRect().height/2-c.getBoundingClientRect().height))}},T=c=>{!n.disabledValues.some(M=>M===c)&&!V(c)&&(l("update:model-value",c),l("selected"))},z=c=>{const M=n.monthPicker?n.year:c;return ct(n.multiModelValue,s.setYear(n.monthPicker?s.setMonth(new Date,$.value||0):new Date,n.monthPicker?M:$.value||M),s.setYear(n.monthPicker?s.setMonth(new Date,c):new Date,M))},Q=()=>{l("toggle"),l("reset-flow")},A=()=>{n.escClose&&Q()},L=(c,M,C,v)=>{c&&(M.value===+n.modelValue&&!n.disabledValues.includes(M.value)&&(Y.value=c),n.arrowNavigation&&(Array.isArray(i.value[C])?i.value[C][v]=c:i.value[C]=[c],h()))},h=()=>{var M,C;const c=(M=n.headerRefs)!=null&&M.length?[n.headerRefs].concat(i.value):i.value.concat([n.skipButtonRef?[]:[P.value]]);b(oe(c),(C=n.headerRefs)!=null&&C.length?"monthPicker":"selectionGrid")};return r({focusGrid:U}),(c,M)=>{var C;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:O,class:e.normalizeClass(e.unref(J)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(A,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(X)),role:"grid"},[e.createElementVNode("div",Kn,[e.renderSlot(c.$slots,"header")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(W),(v,a)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:a,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v,(u,g)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(_)),key:u.value,"aria-selected":u.value===t.modelValue&&!t.disabledValues.includes(u.value),"aria-disabled":u.className.dp__overlay_cell_disabled,ref_for:!0,ref:R=>L(R,u,a,g),tabindex:"0","data-test":u.text,onClick:R=>T(u.value),onKeydown:[e.withKeys(R=>T(u.value),["enter"]),e.withKeys(R=>T(u.value),["space"])],onMouseover:R=>$.value=u.value},[e.createElementVNode("div",{class:e.normalizeClass(u.className)},[c.$slots.item?e.renderSlot(c.$slots,"item",{key:0,item:u}):e.createCommentVNode("",!0),c.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(u.text),1)],64))],2)],42,zn))),128))]))),128)),c.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(C=t.ariaLabels)==null?void 0:C.toggleOverlay,class:e.normalizeClass(e.unref(G)),tabindex:"0",ref_key:"toggleButton",ref:P,onClick:Q,onKeydown:e.withKeys(Q,["enter"])},[e.renderSlot(c.$slots,"button-icon")],42,xn)),[[e.vShow,!e.unref(D)(t.type)]]):e.createCommentVNode("",!0)],2)],42,vn)}}}),Wn=["aria-label"],ht=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const l=t,{transitionName:n,showTransition:p}=Ke(l.transitions),b=e.ref(null);return e.onMounted(()=>r("set-ref",b)),(N,D)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:D[0]||(D[0]=I=>N.$emit("toggle")),onKeydown:[D[1]||(D[1]=e.withKeys(I=>N.$emit("toggle"),["enter"])),D[2]||(D[2]=e.withKeys(I=>N.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:b},[e.renderSlot(N.$slots,"default")],40,Wn),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(p)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ee,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":D[3]||(D[3]=I=>N.$emit("update:model-value",I)),onToggle:D[4]||(D[4]=I=>N.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[N.$slots["calendar-icon"]?e.renderSlot(N.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),N.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ie),{key:1}))]),_:2},[N.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:I})=>[e.renderSlot(N.$slots,t.slotName,{item:I})]),key:"0"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Un={class:"dp__month_year_row"},Hn={class:"dp__month_year_wrap"},jn={class:"dp__month_picker_header"},Gn=["aria-label"],Xn=["aria-label"],qn=["aria-label"],Zn=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...$e},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:l}){const n=t,{defaults:p}=pe(n),{transitionName:b,showTransition:N}=Ke(p.value.transitions),{buildMatrix:D}=Be(),{handleMonthYearChange:I,isDisabled:Y,updateMonthYear:O}=yn(n,l),i=e.ref(!1),$=e.ref(!1),P=e.ref([null,null,null,null]),E=e.ref(null),U=e.ref(null),J=e.ref(null);e.onMounted(()=>{l("mount")});const _=y=>({get:()=>n[y],set:S=>{const f=y==="month"?"year":"month";l("update-month-year",{[y]:S,[f]:n[f]}),l("month-year-select",y==="year"),y==="month"?v(!0):a(!0)}}),B=e.computed(_("month")),W=e.computed(_("year")),G=e.computed(()=>y=>{const S=y==="month";return{showSelectionGrid:(S?i:$).value,items:(S?h:c).value,disabledValues:p.value.filters[S?"months":"years"],minValue:(S?m:X).value,maxValue:(S?T:V).value,headerRefs:S&&n.monthPicker?[E.value,U.value,J.value]:[],escClose:n.escClose,transitions:p.value.transitions,ariaLabels:p.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),X=e.computed(()=>n.minDate?s.getYear(k(n.minDate)):null),V=e.computed(()=>n.maxDate?s.getYear(k(n.maxDate)):null),m=e.computed(()=>{if(n.minDate&&X.value){if(X.value>n.year)return 12;if(X.value===n.year)return s.getMonth(k(n.minDate))}return null}),T=e.computed(()=>n.maxDate&&V.value?V.value<n.year?-1:V.value===n.year?s.getMonth(k(n.maxDate)):null:null),z=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),Q=y=>y.reverse(),A=(y,S=!1)=>{const f=[],j=ee=>S?Q(ee):ee;for(let ee=0;ee<y.length;ee+=3){const re=[y[ee],y[ee+1],y[ee+2]];f.push(j(re))}return S?f.reverse():f},L=e.computed(()=>{const y=n.months.find(S=>S.value===n.month);return y||{text:"",value:0}}),h=e.computed(()=>A(n.months)),c=e.computed(()=>A(n.years,n.reverseYears)),M=e.computed(()=>p.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),C=e.computed(()=>p.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===p.value.multiCalendars-1:!0),v=(y=!1)=>{u(y),i.value=!i.value,i.value||l("overlay-closed")},a=(y=!1)=>{u(y),$.value=!$.value,$.value||l("overlay-closed")},u=y=>{y||l("reset-flow")},g=(y=!1)=>{l("update-month-year",{year:y?n.year+1:n.year-1,month:n.month,fromNav:!0})},R=(y,S)=>{n.arrowNavigation&&(P.value[S]=ie(y),D(P.value,"monthYear"))};return r({toggleMonthPicker:v,toggleYearPicker:a}),(y,S)=>{var f,j,ee,re,me;return e.openBlock(),e.createElementBlock("div",Un,[y.$slots["month-year"]?e.renderSlot(y.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(O),handleMonthYearChange:e.unref(I),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!y.monthPicker&&!y.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(M)&&!y.vertical?(e.openBlock(),e.createBlock(Xe,{key:0,"aria-label":(f=e.unref(p).ariaLabels)==null?void 0:f.prevMonth,disabled:e.unref(Y)(!1),onActivate:S[0]||(S[0]=q=>e.unref(I)(!1)),onSetRef:S[1]||(S[1]=q=>R(q,0))},{default:e.withCtx(()=>[y.$slots["arrow-left"]?e.renderSlot(y.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(at),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",Hn,[e.createVNode(ht,e.mergeProps({type:"month","slot-name":"month-overlay","aria-label":(j=e.unref(p).ariaLabels)==null?void 0:j.openMonthsOverlay,modelValue:e.unref(B),"onUpdate:modelValue":S[2]||(S[2]=q=>e.isRef(B)?B.value=q:null)},e.unref(G)("month"),{onToggle:v,onSetRef:S[3]||(S[3]=q=>R(q,1))}),e.createSlots({default:e.withCtx(()=>[y.$slots.month?e.renderSlot(y.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(L)))):e.createCommentVNode("",!0),y.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(L).text),1)],64))]),_:2},[y.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(y.$slots,"calendar-icon")]),key:"0"}:void 0,y.$slots["month-overlay-value"]?{name:"month-overlay",fn:e.withCtx(({item:q})=>[e.renderSlot(y.$slots,"month-overlay-value",{text:q.text,value:q.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(ht,e.mergeProps({type:"year","slot-name":"year-overlay","aria-label":(ee=e.unref(p).ariaLabels)==null?void 0:ee.openYearsOverlay,modelValue:e.unref(W),"onUpdate:modelValue":S[4]||(S[4]=q=>e.isRef(W)?W.value=q:null)},e.unref(G)("year"),{onToggle:a,onSetRef:S[5]||(S[5]=q=>R(q,2))}),e.createSlots({default:e.withCtx(()=>[y.$slots.year?e.renderSlot(y.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),y.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[y.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(y.$slots,"calendar-icon")]),key:"0"}:void 0,y.$slots["year-overlay-value"]?{name:"year-overlay",fn:e.withCtx(({item:q})=>[e.renderSlot(y.$slots,"year-overlay-value",{text:q.text,value:q.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(M)&&y.vertical?(e.openBlock(),e.createBlock(Xe,{key:1,"aria-label":(re=e.unref(p).ariaLabels)==null?void 0:re.prevMonth,disabled:e.unref(Y)(!1),onActivate:S[6]||(S[6]=q=>e.unref(I)(!1))},{default:e.withCtx(()=>[y.$slots["arrow-up"]?e.renderSlot(y.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(C)?(e.openBlock(),e.createBlock(Xe,{key:2,ref:"rightIcon",disabled:e.unref(Y)(!0),"aria-label":(me=e.unref(p).ariaLabels)==null?void 0:me.nextMonth,onActivate:S[7]||(S[7]=q=>e.unref(I)(!0)),onSetRef:S[8]||(S[8]=q=>R(q,3))},{default:e.withCtx(()=>[y.$slots[y.vertical?"arrow-down":"arrow-right"]?e.renderSlot(y.$slots,y.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),y.$slots[y.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(y.vertical?e.unref(st):e.unref(rt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),y.monthPicker?(e.openBlock(),e.createBlock(Ee,e.mergeProps({key:1},e.unref(G)("month"),{"skip-active":y.range,year:t.year,"multi-model-value":e.unref(z),"month-picker":"",modelValue:e.unref(B),"onUpdate:modelValue":S[17]||(S[17]=q=>e.isRef(B)?B.value=q:null),onToggle:v,onSelected:S[18]||(S[18]=q=>y.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var q,Ce,Me;return[e.createElementVNode("div",jn,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:E,onClick:S[9]||(S[9]=Z=>g(!1)),onKeydown:S[10]||(S[10]=e.withKeys(Z=>g(!1),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":(q=e.unref(p).ariaLabels)==null?void 0:q.prevMonth},[y.$slots["arrow-left"]?e.renderSlot(y.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(at),{key:1}))],8,Gn)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:U,"aria-label":(Ce=e.unref(p).ariaLabels)==null?void 0:Ce.openYearsOverlay,tabindex:"0",onClick:S[11]||(S[11]=()=>a(!1)),onKeydown:S[12]||(S[12]=e.withKeys(()=>a(!1),["enter"]))},[y.$slots.year?e.renderSlot(y.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),y.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Xn),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:J,onClick:S[13]||(S[13]=Z=>g(!0)),onKeydown:S[14]||(S[14]=e.withKeys(Z=>g(!0),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":(Me=e.unref(p).ariaLabels)==null?void 0:Me.nextMonth},[y.$slots["arrow-right"]?e.renderSlot(y.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(rt),{key:1}))],8,qn)],544)]),e.createVNode(e.Transition,{name:e.unref(b)($.value),css:e.unref(N)},{default:e.withCtx(()=>[$.value?(e.openBlock(),e.createBlock(Ee,e.mergeProps({key:0},e.unref(G)("year"),{modelValue:e.unref(W),"onUpdate:modelValue":S[15]||(S[15]=Z=>e.isRef(W)?W.value=Z:null),onToggle:a,onSelected:S[16]||(S[16]=Z=>y.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[y.$slots["calendar-icon"]?e.renderSlot(y.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ie),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:Z})=>[e.renderSlot(y.$slots,"year-overlay-value",{text:Z.text,value:Z.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[y.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:q})=>[e.renderSlot(y.$slots,"month-overlay-value",{text:q.text,value:q.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),y.yearPicker?(e.openBlock(),e.createBlock(Ee,e.mergeProps({key:2},e.unref(G)("year"),{modelValue:e.unref(W),"onUpdate:modelValue":S[19]||(S[19]=q=>e.isRef(W)?W.value=q:null),"multi-model-value":e.unref(z),"skip-active":y.range,"skip-button-ref":"","year-picker":"",onToggle:a,onSelected:S[20]||(S[20]=q=>y.$emit("overlay-closed"))}),e.createSlots({_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:q})=>[e.renderSlot(y.$slots,"year-overlay-value",{text:q.text,value:q.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),Jn={key:0,class:"dp__time_input"},Qn=["aria-label","onKeydown","onClick"],Fn=["aria-label","onKeydown","onClick"],ea=["aria-label","onKeydown","onClick"],ta={key:0},na=["aria-label","onKeydown"],aa=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...$e},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:l}){const n=t,{setTimePickerElements:p,setTimePickerBackRef:b}=Be(),{defaults:N}=pe(n),{transitionName:D,showTransition:I}=Ke(N.value.transitions),Y=e.reactive({hours:!1,minutes:!1,seconds:!1}),O=e.ref("AM"),i=e.ref(null),$=e.ref([]);e.onMounted(()=>{l("mounted")});const P=(h,c)=>s.add(s.set(k(),h),c),E=(h,c)=>s.sub(s.set(k(),h),c),U=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),J=e.computed(()=>{const h=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?h.concat([{type:"",separator:!0},{type:"seconds"}]):h}),_=e.computed(()=>J.value.filter(h=>!h.separator)),B=e.computed(()=>h=>{if(h==="hours"){const c=T(n.hours);return{text:c<10?`0${c}`:`${c}`,value:c}}return{text:n[h]<10?`0${n[h]}`:`${n[h]}`,value:n[h]}}),W=h=>{const c=n.is24?24:12,M=h==="hours"?c:60,C=+n[`${h}GridIncrement`],v=h==="hours"&&!n.is24?C:0,a=[];for(let u=v;u<M;u+=C)a.push({value:u,text:u<10?`0${u}`:`${u}`});return h==="hours"&&!n.is24&&a.push({value:0,text:"12"}),Jt(a)},G=h=>n[`no${h[0].toUpperCase()+h.slice(1)}Overlay`],X=h=>{G(h)||(Y[h]=!Y[h],Y[h]||l("overlay-closed"))},V=h=>h==="hours"?s.getHours:h==="minutes"?s.getMinutes:s.getSeconds,m=(h,c=!0)=>{const M=c?P:E;l(`update:${h}`,V(h)(M({[h]:+n[h]},{[h]:+n[`${h}Increment`]})))},T=h=>n.is24?h:(h>=12?O.value="PM":O.value="AM",tn(h)),z=()=>{O.value==="PM"?(O.value="AM",l("update:hours",n.hours-12)):(O.value="PM",l("update:hours",n.hours+12))},Q=h=>{Y[h]=!0},A=(h,c,M)=>{if(h&&n.arrowNavigation){Array.isArray($.value[c])?$.value[c][M]=h:$.value[c]=[h];const C=$.value.reduce((v,a)=>a.map((u,g)=>[...v[g]||[],a[g]]),[]);b(n.closeTimePickerBtn),i.value&&(C[1]=C[1].concat(i.value)),p(C,n.order)}},L=(h,c)=>h==="hours"&&!n.is24?l(`update:${h}`,O.value==="PM"?c+12:c):l(`update:${h}`,c);return r({openChildCmp:Q}),(h,c)=>{var M;return h.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Jn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(J),(C,v)=>{var a,u,g;return e.openBlock(),e.createElementBlock("div",{key:v,class:e.normalizeClass(e.unref(U))},[C.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":(a=e.unref(N).ariaLabels)==null?void 0:a.incrementValue(C.type),tabindex:"0",onKeydown:[e.withKeys(R=>m(C.type),["enter"]),e.withKeys(R=>m(C.type),["space"])],onClick:R=>m(C.type),ref_for:!0,ref:R=>A(R,v,0)},[h.$slots["arrow-up"]?e.renderSlot(h.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))],40,Qn),e.createElementVNode("div",{role:"button","aria-label":(u=e.unref(N).ariaLabels)==null?void 0:u.openTpOverlay(C.type),class:e.normalizeClass(G(C.type)?"":"dp__time_display"),tabindex:"0",onKeydown:[e.withKeys(R=>X(C.type),["enter"]),e.withKeys(R=>X(C.type),["space"])],onClick:R=>X(C.type),ref_for:!0,ref:R=>A(R,v,1)},[h.$slots[C.type]?e.renderSlot(h.$slots,C.type,{key:0,text:e.unref(B)(C.type).text,value:e.unref(B)(C.type).value}):e.createCommentVNode("",!0),h.$slots[C.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(B)(C.type).text),1)],64))],42,Fn),e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":(g=e.unref(N).ariaLabels)==null?void 0:g.decrementValue(C.type),tabindex:"0",onKeydown:[e.withKeys(R=>m(C.type,!1),["enter"]),e.withKeys(R=>m(C.type,!1),["space"])],onClick:R=>m(C.type,!1),ref_for:!0,ref:R=>A(R,v,2)},[h.$slots["arrow-down"]?e.renderSlot(h.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))],40,ea)],64))],2)}),128)),h.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ta,[h.$slots["am-pm-button"]?e.renderSlot(h.$slots,"am-pm-button",{key:0,toggle:z,value:O.value}):e.createCommentVNode("",!0),h.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:i,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(M=e.unref(N).ariaLabels)==null?void 0:M.amPmButton,tabindex:"0",onClick:z,onKeydown:[e.withKeys(e.withModifiers(z,["prevent"]),["enter"]),e.withKeys(e.withModifiers(z,["prevent"]),["space"])]},e.toDisplayString(O.value),41,na))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(_),(C,v)=>(e.openBlock(),e.createBlock(e.Transition,{key:v,name:e.unref(D)(Y[C.type]),css:e.unref(I)},{default:e.withCtx(()=>[Y[C.type]?(e.openBlock(),e.createBlock(Ee,{key:0,items:W(C.type),"disabled-values":e.unref(N).filters.times[C.type],"esc-close":h.escClose,"aria-labels":e.unref(N).ariaLabels,"hide-navigation":h.hideNavigation,"onUpdate:modelValue":a=>L(C.type,a),onSelected:a=>X(C.type),onToggle:a=>X(C.type),onResetFlow:c[0]||(c[0]=a=>h.$emit("reset-flow")),type:C.type},e.createSlots({"button-icon":e.withCtx(()=>[h.$slots["clock-icon"]?e.renderSlot(h.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),h.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(lt),{key:1}))]),_:2},[h.$slots[`${C.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:a})=>[e.renderSlot(h.$slots,`${C.type}-overlay-value`,{text:a.text,value:a.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),ra=["aria-label"],la={class:"dp__overlay_container dp__container_flex"},oa={key:1,class:"dp__overlay_row"},sa=["aria-label"],ia=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...$e},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:l}){const n=t,{buildMatrix:p,setTimePicker:b}=Be(),N=e.useSlots(),{hideNavigationButtons:D,defaults:I}=pe(n),{transitionName:Y,showTransition:O}=Ke(I.value.transitions),i=e.ref(null),$=e.ref(null),P=e.ref([]),E=e.ref(null);e.onMounted(()=>{l("mount"),!n.timePicker&&n.arrowNavigation?p([ie(i.value)],"time"):b(!0,n.timePicker)});const U=e.computed(()=>n.range&&n.modelAuto?dt(n.internalModelValue):!0),J=e.ref(!1),_=A=>({hours:Array.isArray(n.hours)?n.hours[A]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[A]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[A]:n.seconds}),B=e.computed(()=>{const A=[];if(n.range)for(let L=0;L<2;L++)A.push(_(L));else A.push(_(0));return A}),W=(A,L=!1,h="")=>{L||l("reset-flow"),J.value=A,n.arrowNavigation&&(b(A),A||l("overlay-closed")),e.nextTick(()=>{h!==""&&P.value[0]&&P.value[0].openChildCmp(h)})},G=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),X=_e(N,"timePicker"),V=(A,L,h)=>n.range?L===0?[A,B.value[1][h]]:[B.value[0][h],A]:A,m=A=>{l("update:hours",A)},T=A=>{l("update:minutes",A)},z=A=>{l("update:seconds",A)},Q=()=>{E.value&&n.arrowNavigation&&E.value.focus({preventScroll:!0})};return r({toggleTimePicker:W}),(A,L)=>{var h;return e.openBlock(),e.createElementBlock("div",null,[A.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(G)),role:"button","aria-label":(h=e.unref(I).ariaLabels)==null?void 0:h.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:i,onKeydown:[L[0]||(L[0]=e.withKeys(c=>W(!0),["enter"])),L[1]||(L[1]=e.withKeys(c=>W(!0),["space"]))],onClick:L[2]||(L[2]=c=>W(!0))},[A.$slots["clock-icon"]?e.renderSlot(A.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),A.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(lt),{key:1}))],42,ra)),[[e.vShow,!e.unref(D)("time")]]),e.createVNode(e.Transition,{name:e.unref(Y)(J.value),css:e.unref(O)},{default:e.withCtx(()=>{var c;return[J.value||A.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:E,tabindex:"0"},[e.createElementVNode("div",la,[A.$slots["time-picker-overlay"]?e.renderSlot(A.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:m,setMinutes:T,setSeconds:z}):e.createCommentVNode("",!0),A.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",oa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),(M,C)=>e.withDirectives((e.openBlock(),e.createBlock(aa,e.mergeProps({key:C},{...A.$props,order:C,hours:M.hours,minutes:M.minutes,seconds:M.seconds,closeTimePickerBtn:$.value,disabled:C===0?A.fixedStart:A.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:P,"onUpdate:hours":v=>m(V(v,C,"hours")),"onUpdate:minutes":v=>T(V(v,C,"minutes")),"onUpdate:seconds":v=>z(V(v,C,"seconds")),onMounted:Q,onOverlayClosed:Q}),e.createSlots({_:2},[e.renderList(e.unref(X),(v,a)=>({name:v,fn:e.withCtx(u=>[e.renderSlot(A.$slots,v,e.normalizeProps(e.guardReactiveProps(u)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,C===0?!0:e.unref(U)]])),128))])),A.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:$,class:e.normalizeClass(e.unref(G)),role:"button","aria-label":(c=e.unref(I).ariaLabels)==null?void 0:c.closeTimePicker,tabindex:"0",onKeydown:[L[3]||(L[3]=e.withKeys(M=>W(!1),["enter"])),L[4]||(L[4]=e.withKeys(M=>W(!1),["space"]))],onClick:L[5]||(L[5]=M=>W(!1))},[A.$slots["calendar-icon"]?e.renderSlot(A.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),A.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ie),{key:1}))],42,sa)),[[e.vShow,!e.unref(D)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),ca=(t,r)=>{const{isDisabled:l,matchDate:n,getWeekFromDate:p}=pe(r),b=e.ref(),N=e.ref(k()),D=a=>{!a.current&&r.hideOffsetDates||(b.value=a.value)},I=()=>{b.value=null},Y=a=>Array.isArray(t.value)&&r.range&&t.value[0]&&b.value?a?ye(b.value,t.value[0]):fe(b.value,t.value[0]):!0,O=(a,u)=>{const g=()=>t.value?u?t.value[0]||null:t.value[1]:null,R=t.value&&Array.isArray(t.value)?g():null;return ae(k(a.value),R)},i=a=>{const u=Array.isArray(t.value)?t.value[0]:null;return a?!fe(b.value||null,u):!0},$=(a,u=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)?r.hideOffsetDates&&!a.current?!1:ae(k(a.value),t.value[u?0:1]):r.range?O(a,u)&&i(u)||ae(a.value,Array.isArray(t.value)?t.value[0]:null)&&Y(u):!1,P=(a,u,g)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?a?!1:g?ye(t.value[0],u.value):fe(t.value[0],u.value):!1,E=a=>!t.value||r.hideOffsetDates&&!a.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?ae(a.value,t.value[0]?t.value[0]:N.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(u=>ae(u,a.value)):ae(a.value,t.value?t.value:N.value),U=a=>{if(r.autoRange||r.weekPicker){if(b.value){if(r.hideOffsetDates&&!a.current)return!1;const u=s.addDays(b.value,+r.autoRange),g=p(k(b.value));return r.weekPicker?ae(g[1],k(a.value)):ae(u,k(a.value))}return!1}return!1},J=a=>{if(r.autoRange||r.weekPicker){if(b.value){const u=s.addDays(b.value,+r.autoRange);if(r.hideOffsetDates&&!a.current)return!1;const g=p(k(b.value));return r.weekPicker?ye(a.value,g[0])&&fe(a.value,g[1]):ye(a.value,b.value)&&fe(a.value,u)}return!1}return!1},_=a=>{if(r.autoRange||r.weekPicker){if(b.value){if(r.hideOffsetDates&&!a.current)return!1;const u=p(k(b.value));return r.weekPicker?ae(u[0],a.value):ae(b.value,a.value)}return!1}return!1},B=a=>ct(t.value,b.value,a.value),W=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,G=()=>r.modelAuto?dt(r.internalModelValue):!0,X=a=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const u=r.range?!$(a)&&!$(a,!1):!0;return!l(a.value)&&!E(a)&&!(!a.current&&r.hideOffsetDates)&&u},V=a=>r.range?r.modelAuto?W()&&E(a):!1:E(a),m=a=>r.highlight?n(a.value,r.highlight):!1,T=a=>l(a.value)&&r.highlightDisabledDays===!1,z=a=>r.highlightWeekDays&&r.highlightWeekDays.includes(a.value.getDay()),Q=a=>(r.range||r.weekPicker)&&(r.multiCalendars>0?a.current:!0)&&G()&&!(!a.current&&r.hideOffsetDates)&&!E(a)?B(a):!1,A=a=>({dp__cell_offset:!a.current,dp__pointer:!r.disabled&&!(!a.current&&r.hideOffsetDates)&&!l(a.value),dp__cell_disabled:l(a.value),dp__cell_highlight:!T(a)&&(m(a)||z(a))&&!V(a),dp__cell_highlight_active:!T&&(m(a)||z(a))&&V(a),dp__today:!r.noToday&&ae(a.value,N.value)&&a.current}),L=a=>({dp__active_date:V(a),dp__date_hover:X(a)}),h=a=>({...c(a),...M(a),dp__range_between_week:Q(a)&&r.weekPicker}),c=a=>({dp__range_start:r.multiCalendars>0?a.current&&$(a)&&G():$(a)&&G(),dp__range_end:r.multiCalendars>0?a.current&&$(a,!1)&&G():$(a,!1)&&G(),dp__range_between:Q(a)&&!r.weekPicker,dp__date_hover_start:P(X(a),a,!0),dp__date_hover_end:P(X(a),a,!1)}),M=a=>({...c(a),dp__cell_auto_range:J(a),dp__cell_auto_range_start:_(a),dp__cell_auto_range_end:U(a)}),C=a=>r.range?r.autoRange?M(a):r.modelAuto?{...L(a),...c(a)}:c(a):r.weekPicker?h(a):L(a);return{setHoverDate:D,clearHoverDate:I,getDayClassData:a=>({...A(a),...C(a),[r.dayClass?r.dayClass(a.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},ua=["id","onKeydown"],da={key:0,class:"dp__sidebar_left"},fa={key:1,class:"dp__preset_ranges"},ma=["onClick"],ya={key:2,class:"dp__sidebar_right"},ha={key:3,class:"dp__now_wrap"},pa=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...$e},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value"],setup(t,{emit:r}){const l=t,{setMenuFocused:n,setShiftKey:p,control:b}=ut(),{getCalendarDays:N,defaults:D}=pe(l),I=e.useSlots(),Y=e.ref(null),O=e.reactive({timePicker:!!(!l.enableTimePicker||l.timePicker||l.monthPicker),monthYearInput:!!l.timePicker,calendar:!1}),i=e.ref([]),$=e.ref([]),P=e.ref(null),E=e.ref(null),U=e.ref(0),J=e.ref(!1),_=e.ref(0);e.onMounted(()=>{var x;J.value=!0,!((x=l.presetRanges)!=null&&x.length)&&!I["left-sidebar"]&&!I["right-sidebar"]&&Ne();const d=ie(E);if(d&&!l.textInput&&!l.inline&&(n(!0),m()),d){const le=de=>{!l.monthYearComponent&&!l.timePickerComponent&&!Object.keys(I).length&&de.preventDefault(),de.stopImmediatePropagation(),de.stopPropagation()};d.addEventListener("pointerdown",le),d.addEventListener("mousedown",le)}document.addEventListener("resize",Ne)}),e.onUnmounted(()=>{document.removeEventListener("resize",Ne)});const{arrowRight:B,arrowLeft:W,arrowDown:G,arrowUp:X}=Be(),V=d=>{d||d===0?$.value[d].triggerTransition(A.value(d),L.value(d)):$.value.forEach((x,le)=>x.triggerTransition(A.value(le),L.value(le)))},m=()=>{const d=ie(E);d&&d.focus({preventScroll:!0})},T=()=>{var d;((d=l.flow)==null?void 0:d.length)&&_.value!==-1&&(_.value+=1,r("flow-step",_.value),w())},z=()=>{_.value=-1},{modelValue:Q,month:A,year:L,time:h,updateTime:c,updateMonthYear:M,selectDate:C,getWeekNum:v,monthYearSelect:a,handleScroll:u,handleArrow:g,handleSwipe:R,getMarker:y,selectCurrentDate:S,presetDateRange:f}=fn(l,r,T,V),{setHoverDate:j,clearHoverDate:ee,getDayClassData:re}=ca(Q,l),me=_e(I,"calendar"),q=_e(I,"action"),Ce=_e(I,"timePicker"),Me=_e(I,"monthYear"),Z=e.computed(()=>l.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ue=e.computed(()=>Ft(l.yearRange)),se=e.computed(()=>en(l.locale,l.monthNameFormat)),Ne=()=>{const d=ie(Y);d&&(U.value=d.getBoundingClientRect().width)},be=e.computed(()=>d=>N(A.value(d),L.value(d))),Ve=e.computed(()=>D.value.multiCalendars>0&&l.range?[...Array(D.value.multiCalendars).keys()]:[0]),Re=e.computed(()=>d=>d===1),Je=e.computed(()=>l.monthPicker||l.timePicker||l.yearPicker),Qe=e.computed(()=>({dp__flex_display:D.value.multiCalendars>0})),ze=e.computed(()=>({dp__instance_calendar:D.value.multiCalendars>0})),Oe=e.computed(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly})),Fe=e.computed(()=>d=>tt(be,d)),et=e.computed(()=>({dp__menu:!0,dp__menu_index:!l.inline,dp__relative:l.inline,[l.menuClassName]:!!l.menuClassName})),tt=(d,x)=>d.value(x).map(le=>({...le,days:le.days.map(de=>(de.marker=y(de),de.classData=re(de),de))})),xe=d=>{d.stopPropagation(),d.preventDefault(),d.stopImmediatePropagation()},pt=()=>{l.escClose&&r("close-picker")},gt=(d,x=!1)=>{C(d,x),l.spaceConfirm&&r("select-date")},We=d=>{var x;(x=l.flow)!=null&&x.length&&(O[d]=!0,Object.keys(O).filter(le=>!O[le]).length||w())},o=(d,x,le,de,...ke)=>{if(l.flow[_.value]===d){const H=de?x.value[0]:x.value;H&&H[le](...ke)}},w=()=>{o("month",i,"toggleMonthPicker",!0,!0),o("year",i,"toggleYearPicker",!0,!0),o("calendar",P,"toggleTimePicker",!1,!1,!0),o("time",P,"toggleTimePicker",!1,!0,!0);const d=l.flow[_.value];(d==="hours"||d==="minutes"||d==="seconds")&&o(d,P,"toggleTimePicker",!1,!0,!0,d)},K=d=>{if(l.arrowNavigation){if(d==="up")return X();if(d==="down")return G();if(d==="left")return W();if(d==="right")return B()}else d==="left"||d==="up"?g("left",0,d==="up"):g("right",0,d==="down")},F=d=>{p(d.shiftKey),!l.disableMonthYearSelect&&d.code==="Tab"&&d.target.classList.contains("dp__menu")&&b.value.shiftKeyInMenu&&(d.preventDefault(),d.stopImmediatePropagation(),r("close-picker"))};return(d,x)=>{var le;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(le=e.unref(D).transitions)==null?void 0:le.menuAppear,mode:"out-in",css:!!d.transitions},{default:e.withCtx(()=>{var de,ke;return[e.createElementVNode("div",{id:d.uid?`dp-menu-${d.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:E,role:"dialog",class:e.normalizeClass(e.unref(et)),onMouseleave:x[12]||(x[12]=(...H)=>e.unref(ee)&&e.unref(ee)(...H)),onClick:xe,onKeydown:[e.withKeys(pt,["esc"]),x[13]||(x[13]=e.withKeys(e.withModifiers(H=>K("left"),["prevent"]),["left"])),x[14]||(x[14]=e.withKeys(e.withModifiers(H=>K("up"),["prevent"]),["up"])),x[15]||(x[15]=e.withKeys(e.withModifiers(H=>K("down"),["prevent"]),["down"])),x[16]||(x[16]=e.withKeys(e.withModifiers(H=>K("right"),["prevent"]),["right"])),F]},[(d.disabled||d.readonly)&&d.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Oe))},null,2)):e.createCommentVNode("",!0),!d.inline&&!d.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(Z))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((de=d.presetRanges)==null?void 0:de.length)||!!d.$slots["left-sidebar"]||!!d.$slots["right-sidebar"]})},[d.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",da,[e.renderSlot(d.$slots,"left-sidebar")])):e.createCommentVNode("",!0),(ke=d.presetRanges)!=null&&ke.length?(e.openBlock(),e.createElementBlock("div",fa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.presetRanges,(H,Pe)=>(e.openBlock(),e.createElementBlock("div",{key:Pe,style:e.normalizeStyle(H.style||{}),class:"dp__preset_range",onClick:te=>e.unref(f)(H.range,!!H.slot)},[H.slot?e.renderSlot(d.$slots,H.slot,{key:0,presetDateRange:e.unref(f),label:H.label,range:H.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(H.label),1)],64))],12,ma))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:Y,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(Qe))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Ve),(H,Pe)=>(e.openBlock(),e.createElementBlock("div",{key:H,class:e.normalizeClass(e.unref(ze))},[!d.disableMonthYearSelect&&!d.timePicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.monthYearComponent?d.monthYearComponent:Zn),e.mergeProps({key:0,ref_for:!0,ref:te=>{te&&(i.value[Pe]=te)},months:e.unref(se),years:e.unref(ue),month:e.unref(A)(H),year:e.unref(L)(H),instance:H,"internal-model-value":t.internalModelValue},d.$props,{onMount:x[0]||(x[0]=te=>We("monthYearInput")),onResetFlow:z,onUpdateMonthYear:te=>e.unref(M)(H,te),onMonthYearSelect:e.unref(a),onOverlayClosed:m}),e.createSlots({_:2},[e.renderList(e.unref(Me),(te,$a)=>({name:te,fn:e.withCtx(nt=>[e.renderSlot(d.$slots,te,e.normalizeProps(e.guardReactiveProps(nt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(Yn,e.mergeProps({ref_for:!0,ref:te=>{te&&($.value[Pe]=te)},"specific-mode":e.unref(Je),"get-week-num":e.unref(v),instance:H,"mapped-dates":e.unref(Fe)(H),month:e.unref(A)(H),year:e.unref(L)(H)},d.$props,{"flow-step":_.value,"onUpdate:flow-step":x[1]||(x[1]=te=>_.value=te),onSelectDate:te=>e.unref(C)(te,!e.unref(Re)(H)),onHandleSpace:te=>gt(te,!e.unref(Re)(H)),onSetHoverDate:x[2]||(x[2]=te=>e.unref(j)(te)),onHandleScroll:te=>e.unref(u)(te,H),onHandleSwipe:te=>e.unref(R)(te,H),onMount:x[3]||(x[3]=te=>We("calendar")),onResetFlow:z}),e.createSlots({_:2},[e.renderList(e.unref(me),(te,$a)=>({name:te,fn:e.withCtx(nt=>[e.renderSlot(d.$slots,te,e.normalizeProps(e.guardReactiveProps({...nt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[d.$slots["time-picker"]?e.renderSlot(d.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(h),updateTime:e.unref(c)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[d.enableTimePicker&&!d.monthPicker&&!d.weekPicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.timePickerComponent?d.timePickerComponent:ia),e.mergeProps({key:0,ref_key:"timePickerRef",ref:P,hours:e.unref(h).hours,minutes:e.unref(h).minutes,seconds:e.unref(h).seconds,"internal-model-value":t.internalModelValue},d.$props,{onMount:x[4]||(x[4]=H=>We("timePicker")),"onUpdate:hours":x[5]||(x[5]=H=>e.unref(c)(H)),"onUpdate:minutes":x[6]||(x[6]=H=>e.unref(c)(H,!1)),"onUpdate:seconds":x[7]||(x[7]=H=>e.unref(c)(H,!1,!0)),onResetFlow:z,onOverlayClosed:m}),e.createSlots({_:2},[e.renderList(e.unref(Ce),(H,Pe)=>({name:H,fn:e.withCtx(te=>[e.renderSlot(d.$slots,H,e.normalizeProps(e.guardReactiveProps(te)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),d.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",ya,[e.renderSlot(d.$slots,"right-sidebar")])):e.createCommentVNode("",!0),d.showNowButton?(e.openBlock(),e.createElementBlock("div",ha,[d.$slots["now-button"]?e.renderSlot(d.$slots,"now-button",{key:0,selectCurrentDate:e.unref(S)}):e.createCommentVNode("",!0),d.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:x[8]||(x[8]=(...H)=>e.unref(S)&&e.unref(S)(...H))},e.toDisplayString(d.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),d.$slots["action-row"]?e.renderSlot(d.$slots,"action-row",e.normalizeProps(e.mergeProps({key:2},{internalModelValue:t.internalModelValue,selectDate:()=>d.$emit("select-date"),closePicker:()=>d.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[!d.autoApply||d.keepActionRow?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.actionRowComponent?d.actionRowComponent:_n),e.mergeProps({key:0,"menu-mount":J.value,"calendar-width":U.value,"internal-model-value":t.internalModelValue},d.$props,{onClosePicker:x[9]||(x[9]=H=>d.$emit("close-picker")),onSelectDate:x[10]||(x[10]=H=>d.$emit("select-date")),onInvalidSelect:x[11]||(x[11]=H=>d.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(q),(H,Pe)=>({name:H,fn:e.withCtx(te=>[e.renderSlot(d.$slots,H,e.normalizeProps(e.guardReactiveProps({...te})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):e.createCommentVNode("",!0)],64))],42,ua)]}),_:3},8,["name","css"])}}}),ga=typeof window<"u"?window:void 0,qe=()=>{},ka=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,wa=(t,r,l,n)=>{if(!t)return qe;let p=qe;const b=e.watch(()=>e.unref(t),D=>{p(),D&&(D.addEventListener(r,l,n),p=()=>{D.removeEventListener(r,l,n),p=qe})},{immediate:!0,flush:"post"}),N=()=>{b(),p()};return ka(N),N},ba=(t,r,l,n={})=>{const{window:p=ga,event:b="pointerdown"}=n;return p?wa(p,b,D=>{const I=ie(t),Y=ie(r);!I||!Y||I===D.target||D.composedPath().includes(I)||D.composedPath().includes(Y)||l(D)},{passive:!0}):void 0},Ba=e.defineComponent({__name:"VueDatePicker",props:{...$e},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select"],setup(t,{expose:r,emit:l}){const n=t,p=e.useSlots(),b=e.ref(!1),N=e.toRef(n,"modelValue"),D=e.toRef(n,"timezone"),I=e.ref(null),Y=e.ref(null),O=e.ref(!1),{setMenuFocused:i,setShiftKey:$}=ut(),{clearArrowNav:P}=Be(),{validateDate:E,isValidTime:U,defaults:J}=pe(n);e.onMounted(()=>{z(n.modelValue),n.inline||(window.addEventListener("scroll",M),window.addEventListener("resize",C)),n.inline&&(b.value=!0)}),e.onUnmounted(()=>{n.inline||(window.removeEventListener("scroll",M),window.removeEventListener("resize",C))});const _=_e(p,"all",n.presetRanges),B=_e(p,"input");e.watch([N,D],()=>{z(N.value)},{deep:!0});const{openOnTop:W,menuPosition:G,setMenuPosition:X,setInitialPosition:V}=hn(I,Y,l,n),{inputValue:m,internalModelValue:T,parseExternalModelValue:z,emitModelValue:Q,formatInputValue:A,checkBeforeEmit:L}=mn(l,n,O),h=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),c=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),M=()=>{b.value&&(n.closeOnScroll?f():n.autoPosition?X():window.removeEventListener("scroll",M))},C=()=>{b.value&&X()},v=()=>{!n.disabled&&!n.readonly&&(V(),b.value=!0,e.nextTick().then(()=>{X(),b.value&&l("open")}),b.value||S(),z(n.modelValue))},a=()=>{m.value="",S(),l("update:model-value",null),l("cleared"),f()},u=()=>{const Z=T.value;return!Z||!Array.isArray(Z)&&E(Z)?!0:Array.isArray(Z)?Z.length===2&&E(Z[0])&&E(Z[1])?!0:E(Z[0]):!1},g=()=>{L()&&u()?(Q(),f()):l("invalid-select",T.value)},R=Z=>{Q(),n.closeOnAutoApply&&!Z&&f()},y=(Z=!1)=>{n.autoApply&&U(T.value)&&u()&&(n.range&&Array.isArray(T.value)?(n.partialRange||T.value.length===2)&&R(Z):R(Z))},S=()=>{n.textInput||(T.value=null)},f=()=>{n.inline||(b.value&&(b.value=!1,i(!1),$(!1),P(),l("closed"),V(),m.value&&z(N.value)),S(),Y.value&&Y.value.focusInput())},j=(Z,ue)=>{if(!Z){T.value=null;return}T.value=Z,ue&&(g(),l("text-submit"))},ee=()=>{n.autoApply&&U(T.value)&&Q()},re=()=>b.value?f():v(),me=Z=>{T.value=Z},q=e.computed(()=>n.textInput&&J.value.textInputOptions.format),Ce=()=>{q.value&&(O.value=!0,A()),l("focus")},Me=()=>{q.value&&(O.value=!1,A()),l("blur")};return ba(I,Y,n.onClickOutside?()=>n.onClickOutside(u):f),r({closeMenu:f,selectDate:g,clearValue:a,openMenu:v,onScroll:M,formatInputValue:A,updateInternalModelValue:me}),(Z,ue)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(h))},[e.createVNode(Cn,e.mergeProps({ref_key:"inputRef",ref:Y,"is-menu-open":b.value,"input-value":e.unref(m),"onUpdate:input-value":ue[0]||(ue[0]=se=>e.isRef(m)?m.value=se:null)},Z.$props,{onClear:a,onOpen:v,onSetInputDate:j,onSetEmptyDate:e.unref(Q),onSelectDate:g,onToggle:re,onClose:f,onFocus:Ce,onBlur:Me}),e.createSlots({_:2},[e.renderList(e.unref(B),(se,Ne)=>({name:se,fn:e.withCtx(be=>[e.renderSlot(Z.$slots,se,e.normalizeProps(e.guardReactiveProps(be)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),b.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:Z.teleport,disabled:Z.inline},[b.value?(e.openBlock(),e.createBlock(pa,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:I,class:e.unref(c),style:e.unref(G),"open-on-top":e.unref(W)},Z.$props,{"internal-model-value":e.unref(T),"onUpdate:internal-model-value":ue[1]||(ue[1]=se=>e.isRef(T)?T.value=se:null),onClosePicker:f,onSelectDate:g,onAutoApply:y,onTimeUpdate:ee,onFlowStep:ue[2]||(ue[2]=se=>Z.$emit("flow-step",se)),onUpdateMonthYear:ue[3]||(ue[3]=se=>Z.$emit("update-month-year",se)),onInvalidSelect:ue[4]||(ue[4]=se=>Z.$emit("invalid-select",e.unref(T)))}),e.createSlots({_:2},[e.renderList(e.unref(_),(se,Ne)=>({name:se,fn:e.withCtx(be=>[e.renderSlot(Z.$slots,se,e.normalizeProps(e.guardReactiveProps({...be})))])}))]),1040,["class","style","open-on-top","internal-model-value"])):e.createCommentVNode("",!0)],8,["to","disabled"])):e.createCommentVNode("",!0)],2))}}),Ze=(()=>{const t=Ba;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(Ze[t]=r)}),Ze});
